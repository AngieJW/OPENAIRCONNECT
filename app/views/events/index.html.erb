<main data-controller="map">
<h1 class="home-headings">Autour de chez moi</h1>
<button data-action="click->map#myPosition" class="btn btn-success">Ma position</button>
<section id="searchbar" class="container p-3">
<%= form_with url: events_path, method: :get, html: { class: 'row', data: { refresh_list_target: 'form' } } do |f| %>
  <div class="form-group col-md-5">
    <%= f.label :query, 'Ville', class: 'form-label' %>
    <%= f.text_field :query,
                      class: "form-control",
                      placeholder: 'ex: Aubagne',
                      value: params[:query],
                      data: {
                        refresh_list_target: 'searchInput',
                    } %>
  </div>
  <div class="form-group col-md-5">
    <%= label_tag :date, 'Date', class: 'form-label' %>
    <%= date_field_tag :date, params[:date], class: 'form-control' %>
  </div>
  <div class="form-group col-md-2 align-self-end">
    <%= button_tag 'Rechercher', class: 'btn btn-warning btn-block', type: 'submit' %>
  </div>
<% end %>
<div data-refresh_list_target="list">
</div>
</section>

<%
def pictureHike(e)
    case e.location
    when 'Marseille'
      'rand_1.jpg'
    when 'Cassis'
      'rand_2.jpg'
    when 'Aix-en-Provence'
      'rand_3.jpg'
    when 'Fuveau'
      'rand_4.jpg'
    when 'Saint-Cyr'
      'rand_5.jpg'
    when 'Aubagne'
      'rand_6.jpg'
    when 'Ciotat'
      'rand_7.jpg'
    when 'Gemenos'
      'rand_8.jpg'
    else
      'PrisonMick.jpg'
    end
end

def difficult(e)
  case e.difficulty
  when 'Facile'
    'facile'
  when 'Balade'
    'balade'
  when 'IntermÃ©diaire'
    'inter'
  when 'Difficile'
    'difficile'
  when 'Sportif'
    'sportif'
  end
end
  %>

<section id="home" data-controller="card-events">

<div class="container">
      <ul class="row d-flex justify-content-evenly p-4 g-2" data-card-events-target="list_cards">
  <% @events.each do |event| %>
    <%= render 'shared/card', item: event %>
  <% end %>

  </ul>
</div>

</section>

</main>

<%

def hello(e)
    case e.location
    when 'Marseille'
      'rand_1.jpg'
    when 'Cassis'
      'rand_2.jpg'
    when 'Aix-en-Provence'
      'rand_3.jpg'
    when 'Fuveau'
      'rand_4.jpg'
    when 'Saint-Cyr'
      'rand_5.jpg'
    when 'Aubagne'
      'rand_6.jpg'
    when 'Ciotat'
      'rand_7.jpg'
    when 'Gemenos'
      'rand_8.jpg'
    else
      'PrisonMick.jpg'
    end
end

def difficult()
  case @event.difficulty
  when 'Facile'
    'facile'
  when 'Balade'
    'balade'
  when 'Intermédiaire'
    'inter'
  when 'Difficile'
    'difficile'
  when 'Sportif'
    'sportif'
  end
end
  %>

<section id="show">
<div class="row m-0 show_hike_map position-relative">
  <img src="/assets/<%= hello(@event) %>" class="col-12 p-0" alt='map show hike'>
  <h2 class="position-absolute text-center bottom-0 m-0"><%= @event.location %></h2>
</div>
<div class="show_event_details p-3">
  <div class="row">
  <div class="col-12 d-flex justify-content-between align-items-center">
    <h6><i class="fa-solid fa-user"></i> <%= @event.group_size %></h6>
    <h6 class="difficulty <%= difficult() %>"><%= @event.difficulty %></h6>
  </div>
  </div>
  <div class="d-flex justify-content-between">
  <h6><% if @event.items.count > 0 %>
  <%= link_to "Voir la liste", event_items_path(event_id: @event.id) %>
<% else %>
  <%= link_to "Ajoutez une liste", new_event_item_path(event_id: @event.id) %>
<% end %></h6>
      <h6> météo : il pleut </h6>
  </div>
</div>

<h3 class="text-center p-5">Chatroom ici</h3>

<%# VUE DE L'ORGANISATEUR DE L'EVENEMENT %>
<% if current_user == @event.user %>
<%= "Vous êtes l'organisateur de cet évènement" %>
<%# VUE DES PARTICIPANTS A L'EVENEMENT %>
<% elsif !@mybookings.where(event: @event).empty? %>
<%= "Vous participez à cet évènement" %>
<%= button_to "Se désinscrire de l'évenement", booking_path(@booking), method: :delete, class: 'btn btn-success' %>
<% else %>
<%# VUE DES VISITEURS   %>
<%= button_to "Rejoindre l'évenement", event_bookings_path(@event), method: :post, class: 'btn btn-success' %>
<% end %>
</section>
